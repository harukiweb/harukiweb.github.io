<!DOCTYPE html>
<html>
<head>
  <title>é˜²ç½ã‚°ãƒƒã‚ºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</title>

  <!-- âœ… ã‚¹ãƒãƒ›å¯¾å¿œ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body { 
      font-family: sans-serif; 
      padding: 10px;
    }

    h1 {
      font-size: 26px;
      margin-bottom: 10px;
    }

    h2 { 
      margin-top: 25px; 
      font-size: 22px;
    }

    ul {
      padding-left: 0;
      list-style: none;
    }

    li {
      padding: 12px 8px;
      font-size: 18px;
      line-height: 1.4;
      border-bottom: 1px solid #ddd;
      display: flex;
      align-items: center;
    }

    li.checked { 
      background-color: #c8f7c5; 
    }

    input[type="checkbox"] {
      width: 20px;
      height: 20px;
      margin-right: 10px;
    }

    #floatingCount {
      position: fixed;
      top: 10px;
      right: 10px;
      background-color: #f0f0f0;
      padding: 8px 12px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      font-weight: bold;
      z-index: 1000;
    }

    /* âœ… ã‚¹ãƒãƒ›æœ€é©åŒ– */
    @media screen and (max-width: 600px) {
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      li { font-size: 17px; padding: 10px 6px; }
      #floatingCount { font-size: 14px; padding: 6px 10px; }
    }
  </style>
</head>
<body>

<div id="floatingCount">ãƒã‚§ãƒƒã‚¯æ¸ˆã¿: 0 / 0</div>

<h1>é˜²ç½ã‚°ãƒƒã‚ºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h1>

<h2>åŸºæœ¬ã®å‚™ãˆ</h2>
<ul id="basic">
  <li><label><input type="checkbox"> é£²æ–™æ°´ï¼ˆ1äºº1æ—¥3ãƒªãƒƒãƒˆãƒ«ï¼‰</label></li>
  <li><label><input type="checkbox"> é£Ÿæ–™ï¼ˆæœ€ä½3æ—¥åˆ†ï¼‰</label></li>
  <li><label><input type="checkbox"> æºå¸¯ãƒ©ã‚¸ã‚ªï¼ˆäºˆå‚™é›»æ± ï¼‰</label></li>
  <li><label><input type="checkbox"> æ‡ä¸­é›»ç¯ï¼ˆäºˆå‚™é›»æ± ï¼‰</label></li>
  <li><label><input type="checkbox"> æºå¸¯é›»è©±ãƒ»å……é›»å™¨</label></li>
</ul>

<h2>ç”Ÿæ´»ç”¨å“</h2>
<ul id="life">
  <li><label><input type="checkbox"> ç¾é‡‘ãƒ»èº«åˆ†è¨¼æ˜æ›¸</label></li>
  <li><label><input type="checkbox"> ç€æ›¿ãˆãƒ»ã‚¿ã‚ªãƒ«</label></li>
  <li><label><input type="checkbox"> é›¨å…·ãƒ»é˜²å¯’å…·</label></li>
  <li><label><input type="checkbox"> ç­†è¨˜ç”¨å…·ãƒ»ãƒ¡ãƒ¢å¸³</label></li>
  <li><label><input type="checkbox"> ãƒ“ãƒ‹ãƒ¼ãƒ«è¢‹ãƒ»ãƒ©ãƒƒãƒ—</label></li>
</ul>

<h2>æƒ…å ±ãƒ»é€£çµ¡</h2>
<ul id="info">
  <li><label><input type="checkbox"> å®¶æ—ã®é€£çµ¡å…ˆãƒ¡ãƒ¢</label></li>
  <li><label><input type="checkbox"> åœ°å›³ãƒ»é¿é›£æ‰€æƒ…å ±</label></li>
  <li><label><input type="checkbox"> ãƒ›ã‚¤ãƒƒã‚¹ãƒ«ï¼ˆåŠ©ã‘ã‚’å‘¼ã¶ãŸã‚ï¼‰</label></li>
</ul>

<h2>è¡›ç”Ÿç”¨å“</h2>
<ul id="hygiene">
  <li><label><input type="checkbox"> ãƒˆã‚¤ãƒ¬ãƒƒãƒˆãƒšãƒ¼ãƒ‘ãƒ¼ãƒ»ãƒ†ã‚£ãƒƒã‚·ãƒ¥</label></li>
  <li><label><input type="checkbox"> æºå¸¯ãƒˆã‚¤ãƒ¬</label></li>
  <li><label><input type="checkbox"> ãƒã‚¹ã‚¯ãƒ»æ¶ˆæ¯’æ¶²</label></li>
  <li><label><input type="checkbox"> æ•‘æ€¥ã‚»ãƒƒãƒˆ</label></li>
</ul>

<h2>ãã®ä»–ï¼ˆã‚ã‚‹ã¨ä¾¿åˆ©ï¼‰</h2>
<ul id="extra">
  <li><label><input type="checkbox"> ã‚¦ã‚§ãƒƒãƒˆãƒ†ã‚£ãƒƒã‚·ãƒ¥</label></li>
  ï¿¼<li><label><input type="checkbox"> ã‚¬ãƒ ãƒ†ãƒ¼ãƒ—</label></li>
  <li><label><input type="checkbox"> è»æ‰‹</label></li>
  <li><label><input type="checkbox"> ä½¿ã„æ¨ã¦ã‚«ã‚¤ãƒ­</label></li>
  <li><label><input type="checkbox"> ã‚µãƒ©ãƒ³ãƒ©ãƒƒãƒ—</label></li>
</ul>

<script>
  const checklistItems = document.querySelectorAll("input[type='checkbox']");
  const floatingCount = document.getElementById("floatingCount");

  const countDisplay = document.createElement("p");
  document.body.appendChild(countDisplay);

  const lastCheckedDisplay = document.createElement("p");
  lastCheckedDisplay.textContent = "æœ€å¾Œã«ãƒã‚§ãƒƒã‚¯ã—ãŸæ—¥ä»˜: ãªã—";
  document.body.appendChild(lastCheckedDisplay);

  function updateCheckCount() {
    const total = checklistItems.length;
    const checked = document.querySelectorAll("input[type='checkbox']:checked").length;
    countDisplay.textContent = "ãƒã‚§ãƒƒã‚¯æ¸ˆã¿: " + checked + " / " + total;
    floatingCount.textContent = "ãƒã‚§ãƒƒã‚¯æ¸ˆã¿: " + checked + " / " + total;

    if (checked === total) {
      alert("ã™ã”ã„ï¼å…¨éƒ¨ãƒã‚§ãƒƒã‚¯ã§ããŸã­ğŸ‰");
    }
  }

  checklistItems.forEach((item, index) => {
    const saved = localStorage.getItem("check_" + index);
    if (saved === "true") {
      item.checked = true;
      item.closest("li").classList.add("checked");
    }

    item.addEventListener("change", () => {
      localStorage.setItem("check_" + index, item.checked);
      const li = item.closest("li");
      if (item.checked) {
        li.classList.add("checked");
      } else {
        li.classList.remove("checked");
      }

      const now = new Date();
      const dateStr = now.toLocaleString("ja-JP");
      localStorage.setItem("lastCheckedDate", dateStr);
      lastCheckedDisplay.textContent = "æœ€å¾Œã«ãƒã‚§ãƒƒã‚¯ã—ãŸæ—¥ä»˜: " + dateStr;

      updateCheckCount();
    });
  });

  const savedDate = localStorage.getItem("lastCheckedDate");
  if (savedDate) {
    lastCheckedDisplay.textContent = "æœ€å¾Œã«ãƒã‚§ãƒƒã‚¯ã—ãŸæ—¥ä»˜: " + savedDate;
  }

  updateCheckCount();
</script>

</body>
</html>
